@model GestionAgroite_V1_CSI.Models.ViewModel

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";


}

<h2>VEnta</h2>
<div class="@ViewBag.Estilo" role="alert"><b>@ViewBag.Mensaje </b> <br /> </div>
<div class="container">
    @using (Html.BeginForm("Guardar", "Venta", FormMethod.Post, new { enctype = "multipart/form-data" }))
    {
        <div class="form-row">
            <div class="form-group col-md-2">
                <label for="inputEmail4">IdPedido</label>
                @Html.TextBoxFor(x => x.pedido.IdPedido, new { @class = "form-control" })
            </div>
            <div class="form-group col-md-4">
                <label for="inputPassword4">usuario</label>
                @Html.TextBoxFor(x => x.pedido.Usuario.Nombres, new { @class = "form-control" })
            </div>
            <div class="form-group col-md-2">
                <label for="inputAddress">Total</label>
                @Html.TextBoxFor(x => x.pedido.Total, new { @class = "form-control" })
            </div>

            <div class="form-group col-md-2">
                <label for="inputAddress2">Igv</label>
                @Html.TextBoxFor(x => x.pedido.IGV, new { @class = "form-control" })
            </div>
        </div>


        <div class="form-row">
            <div class="form-group col-md-4">
                <label for="inputCity">Fecha</label>
                @Html.TextBoxFor(x => x.pedido.Fecha, new { @class = "form-control" })
            </div>

            <div class="form-group col-md-4">
                <label for="inputState">Trasnporador</label>
                <select id="IdTransportador" name="IdTransportador" class="form-control" required>
                    <option value="">-Seleccione-</option>
                    @foreach (var item in Model.transportador)
                    {
                        <option value="@(item.IdTransportador)"> @(item.Nombre) </option>
                    }
                </select>
            </div>

            <div class="form-group col-md-4">
                <label for="inputCity">Fecha</label>
                <input type="date" class="form-control" name="Fecha_Entrega" id="Fecha_Entrega" value="" />
            </div>
        </div>

        <button type="submit" class="btn btn-primary">Vender</button>
    }



    <table class="table" id="listaDetalle">
        <thead class="text-primary">
            <tr>
                <th> IdPedido</th>
                <th> IdProducto </th>
                <th> nombre </th>
                <th> Cantidad     </th>
                <th> Subtotal     </th>
            </tr>
        </thead>
        <tbody>

            @foreach (var item in Model.detallepedido)
            {
                <tr>
                    <td>@item.IdPedido</td>
                    <td>@item.IdProducto</td>
                    <td>@item.Producto.Nombre_Producto</td>
                    <td>@item.Cantidad</td>
                    <td>@item.Subtotal</td>
                </tr>
            }

        </tbody>
    </table>

    <br />
    <br />
</div>

